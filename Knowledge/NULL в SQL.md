---
tags:
  - SQL
---

> [!NOTE]
> В SQL значение `NULL` представляет собой отсутствие значения или неопределённое значение в столбце таблицы. Оно не эквивалентно нулю (`0`) или пустой строке (`""`); вместо этого `NULL` обозначает, что значение отсутствует.

## 1. Основные характеристики

- **Неопределенность**: `NULL` указывает на отсутствие данных. Это может быть результатом того, что данные отсутствуют, не применимы или просто не введены.
- **Не сравним с другими значениями**: Выражения, содержащие `NULL`, никогда не будут возвращать `TRUE`. Например, никакое сравнение с `NULL` — даже использования операторов `=` и `!=` — не будет истинным. Вместо этого используются специальные операторы.
  
## 2. Работа с NULL

### Проверка на NULL

Для проверки, является ли значение `NULL`, используется оператор `IS NULL` или `IS NOT NULL`.

#### Примеры:

```sql
SELECT * FROM students WHERE graduation_date IS NULL;
```

Этот запрос выбирает всех студентов, у которых дата окончания не указана.

```sql
SELECT * FROM students WHERE graduation_date IS NOT NULL;
```

Этот запрос выбирает всех студентов с указанной датой окончания.

### SQL-функции

Некоторые функции могут помочь обрабатывать значения `NULL`:

- **`COALESCE()`**: Возвращает первое ненулевое значение из перечисленных.
  
  ```sql
  SELECT COALESCE(graduation_date, 'Не указано') AS date FROM students;
  ```

- **`NULLIF()`**: Возвращает `NULL`, если два переданных значения равны. В противном случае возвращает первое значение.
  
  ```sql
  SELECT NULLIF(field1, field2) FROM table;
  ```

## 3. NULL и агрегатные функции

Агрегатные функции, такие как `COUNT()`, `SUM()`, `AVG()`, игнорируют значения `NULL` при выполнении своих вычислений.

```sql
SELECT AVG(age) FROM students;  -- Пропустит NULL значения в столбце age 
```

Однако, функция `COUNT(*)` подсчитывает все строки, даже если в них присутствует `NULL`.

```sql
SELECT COUNT(*) FROM students;   -- Подсчитает все строки, включая строки с NULL
```

## 4. Ограничения использования NULL

- **Индексы**: В некоторых СУБД `NULL` значения могут повлиять на производительность индексов и их использование.
- **Необходимость в запросах**: Если в запросах используются столбцы с `NULL`, это может усложнить формулировки условий и фильтров.

## 5. Заключение

Значение `NULL` в SQL играет критическую роль в представлении отсутствующих данных. Понимание, как работать с `NULL`, важно для разработки гибких и правильных структур баз данных, а также для написания корректных запросов. Убедитесь, что вы учитываете `NULL` при проектировании схемы базы данных и написании SQL-запросов, чтобы избежать неожиданных результатов.