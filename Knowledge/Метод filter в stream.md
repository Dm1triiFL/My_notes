---
tags:
  - Java
---


# Метод `filter` в Stream

## Что делает?

`filter` — это **промежуточная операция** в Stream API, которая пропускает только те элементы потока, которые соответствуют заданному условию, и формирует новый поток только с этими элементами.

---

```java
Stream<T> filter(Predicate<? super T> predicate)
```

- **Тип возвращаемого потока:** `Stream<T>` — поток того же типа, что и исходный.
- **Параметр `predicate`:** функция, которая принимает элемент `T` и возвращает `boolean`. Если результат `true`, элемент остаётся в потоке; если `false` — исключается.

## Что происходит внутри?

- Для каждого элемента исходного потока вызывается `predicate`.
- В итоговый поток попадают только те элементы, для которых `predicate` возвращает `true`.

---

## Пример использования

Если есть список чисел:

```java
List<Integer> numbers = Arrays.asList(1, 2, 3, 4, 5, 6);
```

Применим `filter`, чтобы оставить только чётные числа:

```java
List<Integer> evenNumbers = numbers.stream()
                                   .filter(n -> n % 2 == 0)
                                   .collect(Collectors.toList());
```

Результат: список `[2, 4, 6]`.

---

## Важные моменты

- `filter` — фильтрация элементов по условию.
- Может использоваться для отбора по свойствам, условиям, диапазонам и т.п.
- После `filter` часто идут terminal операции, такие как `collect`, `forEach` или `count`.

---

## Варианты использования

| Цель | Пример | Описание |
| --- | --- | --- |
| Отобрать элементы по условию | `stream.filter(user -> user.isActive())` | Оставить только активных пользователей |
| Отфильтровать по диапазону | `stream.filter(age -> age >= 18 && age <= 30)` | Оставить только взрослых в возрасте 18-30 |
| Исключить определённые значения | `stream.filter(s -> !s.equals("исключение"))` | Исключить строки с определённым значением |
