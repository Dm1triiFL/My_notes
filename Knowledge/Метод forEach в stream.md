---
tags:
  - Java
---
Конечно! Вот разбор метода **`forEach`** в Stream API:

# Метод `forEach` в Stream

## Что делает?

`forEach` — это **терминальная операция** в Stream API, которая выполняет заданное действие для каждого элемента потока. Она используется для побочных эффектов, таких как вывод, изменение состояния или вызов методов.

---

## Подробно

```java
void forEach(Consumer<? super T> action)
```

- **Тип параметра `action`:** функция- Consumer, которая принимает элемент `T` и не возвращает результат. Выполняет некоторое действие над этим элементом.

## Что происходит внутри?

- Для каждого элемента потока вызывается `action`.
- После выполнения `forEach` поток считается завершённым.
- В отличие от промежуточных операций, `forEach` **не возвращает** поток, а возвращает `void`.

---

## Пример использования

Допустим, есть список имён:

```java
List<String> names = Arrays.asList("Маша", "Катя", "Лена");
```

Выведем каждое имя на экран:

```java
names.stream()
     .forEach(System.out::println);
```

или с лямбдой:

```java
names.stream()
     .forEach(name -> System.out.println(name));
```

---

## Важные моменты

- `forEach` применяется в конце цепочки потоков.
- Используется для выполнения побочных эффектов, например, вывода, логирования, обновления данных.
- Не рекомендуется использовать для выполнения операций, изменяющих состояние вне потока без необходимости, чтобы избежать проблем с многопоточностью.

---

## Варианты использования

| Цель | Пример | Описание |
| --- | --- | --- |
| Вывод элементов | `stream.forEach(System.out::println);` | Выводит все элементы потока на консоль |
| Выполнение действия | `stream.forEach(System.out::println);` | Выполняет произвольные действия над каждым элементом |
| Манипуляция внешним состоянием | `list.forEach(item -> someMethod(item));` | Обеспечивает вызов метода для каждого элемента |

---
