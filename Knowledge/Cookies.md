---
tags:
  - WEB
---
**Cookies** (печенья) – это небольшие текстовые файлы, которые могут быть созданы и сохранены на стороне клиента (в браузере) веб-сервером. Они используются для хранения информации о пользователе и его взаимодействии с веб-сайтом. Рассмотрим более подробно, что такое cookies, как они работают и для чего используются.

## Основные аспекты Cookies

### 1. Структура Cookies

Каждый cookie состоит из:
- **Имя**: Уникальный идентификатор cookie.
- **Значение**: Информация, которую cookie хранит (например, идентификатор сессии пользователя).
- **Срок действия**: Дата и время, когда cookie истекает. Если срок не установлен, cookie будет существовать только в течение сессии браузера.
- **Domain**: Домен, к которому cookie привязан, определяющий, на каких сайтах доступен cookie.
- **Path**: Путь, указывающий доступность cookie в определенной части сайта.
- **Secure**: Если установлен, cookie будет передаваться только по защищенным соединениям (HTTPS).
- **HttpOnly**: Если установлен, cookie недоступен для JavaScript, что снижает риск атак, связанных с XSS.

### 2. Типы Cookies

- **Сессионные Cookies (Session Cookies)**:
  - Временные cookies, которые хранятся в памяти браузера до закрытия окна. Используются для хранения информации о сессии пользователя.

- **Постоянные Cookies (Persistent Cookies)**:
  - Хранятся на устройстве пользователя до истечения срока действия, даже после закрытия браузера. Чаще всего используются для запоминания предпочтений пользователя.

- **Cookies третьих лиц (Third-party Cookies)**:
  - Устанавливаются доменом, отличным от того, который пользователь посещает. Обычно используются рекламными агентствами и сторонними службами для отслеживания.

### 3. Использование Cookies

- **Аутентификация**: Хранение идентификаторов сессии для проверки прав подлинности пользователей.
- **Персонализация**: Сохранение предпочтений пользователя, таких как язык интерфейса или настройки темы.
- **Отслеживание**: Сбор данных о поведении пользователей с целью анализа и улучшения пользовательского опыта.
- **Реклама**: Настройка рекламных объявлений в зависимости от интересов пользователя.

### 4. Управление Cookies

#### a. Создание Cookies в JavaScript

```javascript
// Создание cookie на 7 дней
document.cookie = "username=JohnDoe; expires=Fri, 31 Dec 2025 23:59:59 GMT; path=/";
```

#### b. Чтение Cookies

```javascript
function getCookie(name) {
    const value = `; ${document.cookie}`;
    const parts = value.split(`; ${name}=`);
    if (parts.length === 2) return parts.pop().split(';').shift();
}

// Пример использования
const username = getCookie('username');
console.log(username); // Вывод: JohnDoe
```

#### c. Удаление Cookies

```javascript
document.cookie = "username=; expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/";
```

### 5. Безопасность Cookies

- **HttpOnly**: Используйте этот флаг для защиты от атак XSS.
- **Secure**: Убедитесь, что cookies передаются только по HTTPS.
- **SameSite**: Этот атрибут контролирует, как cookies отправляются с запросами, и помогает защитить от атак CSRF.

## Заключение

Cookies — это мощный инструмент для управления состоянием и предпочтениями пользователей на веб-сайтах. Однако они также требуют осторожного обращения, особенно в аспектах безопасности и конфиденциальности. Разработчики должны учитывать риски и следовать лучшим практикам при работе с cookies.