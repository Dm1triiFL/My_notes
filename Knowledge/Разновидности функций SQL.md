---
tags:
  - SQL
---
# Деление функций в SQL на Single Row и Multiple Row

В SQL функции можно разделить на две категории в зависимости от того, как они обрабатывают данные: **Single Row Functions** и **Multiple Row Functions**. Это важно понимать при работе с запросами, так как каждая из этих категорий функций применяется к различным наборам данных.

## 1. Single Row Functions

### Определение
**[[Single Row Функции в SQL]]** (функции единственной строки) обрабатывают данные на уровне отдельных строк. Они принимают одно значение в качестве входных параметров и возвращают одно значение.

### Примеры
- **Арифметические функции**: Принимают одно числовое значение и возвращают одно число (например, `ROUND()`, `ABS()`).
- **Строковые функции**: Применяются к одной строке и возвращают новую строку (например, `UPPER()`, `LOWER()`, `SUBSTRING()`).
- **Дата и время**: Функции, работающие с одной датой (например, `CURRENT_DATE`, `EXTRACT()`).

### Пример использования
```sql
SELECT employee_id, UPPER(first_name) AS first_name_upper
FROM employees;
```
*В этом запросе функция `UPPER()` применена к каждому значению `first_name` отдельно.*

## 2. Multiple Row Functions

### Определение
**Multiple Row Functions** (функции множества строк) обрабатывают данные в рамках группы строк и возвращают одно или несколько значений. Обычно они выполняются в сочетании с оператором `GROUP BY`.

### Примеры
- **Агрегатные функции**: Обрабатывают набор значений и возвращают одно значение (например, `COUNT()`, `SUM()`, `AVG()`, `MAX()`, `MIN()`).

### Пример использования
```sql
SELECT department_id, COUNT(*) AS employee_count, AVG(salary) AS average_salary
FROM employees
GROUP BY department_id;
```
*В этом запросе агрегатные функции `COUNT()` и `AVG()` работают с группами работников по `department_id` и возвращают одно значение для каждой группы.*

## Краткие итоги

| Тип функции         | Примеры                                     | Применение                              |
|--------------------|--------------------------------------------|----------------------------------------|
| **Single Row**     | `UPPER()`, `ROUND()`, `LENGTH()`           | Обрабатывает каждую строку отдельно   |
| **Multiple Row**   | `COUNT()`, `SUM()`, `AVG()`, `MAX()`, `MIN()` | Обрабатывает группы строк (агрегация) |

[[CONVERSION функции]]